# 送迎配車システム - PWA化・オフライン対応改修

既存の `index.html` をベースに、iPadやAndroidでアプリとして利用できるように改修を行いました。

## 変更点概要

1. **アプリ化 (PWA) 対応**
   - ホーム画面に追加できるよう `manifest.json` と `service-worker.js` を追加しました。
   - アドレスバーやブラウザのUIが消え、全画面でアプリのように動作します。

2. **画面更新（プル・トゥ・リフレッシュ）の防止**
   - 画面上部を引っ張って更新される動作を無効化しました（オフライン時のデータ消失防止）。
   - アプリ全体でテキスト選択を無効化し（入力欄を除く）、ネイティブアプリに近い操作感にしました。

3. **オフライン対応とデータ同期**
   - **起動時**: まずローカル（端末内）に保存されたデータを表示します。ネットが無くても前回の状態で作業可能です。
   - **作業中**: データ入力は即座に端末内に自動保存されます。
   - **同期**: ヘッダーのボタンを「クラウド同期」に変更しました。ネットにつながったタイミングで押すことで、クラウド（Googleスプレッドシート）とデータを統合・保存します。

## 導入・使用方法

### 1. サーバーへの配置（重要）
iPadやAndroidで「オフライン対応」および「ホーム画面に追加」機能を使用するには、これらのファイル（`index.html`, `manifest.json`, `service-worker.js`）を **HTTPS対応のWebサーバー** にアップロードする必要があります。
※ Googleドライブから直接ファイルを開くだけでは、これらの機能は正しく動作しません。

推奨される簡単なホスティング方法:
- GitHub Pages
- Firebase Hosting
- Netlify / Vercel
- レンタルサーバーのWeb公開フォルダ

### 2. アイコン画像について
アプリのアイコンとして以下のファイル名で画像を用意し、同じフォルダに配置してください（無くても動作はしますが、デフォルトのアイコンになります）。
- `icon-192.png` (192x192px)
- `icon-512.png` (512x512px)

### 3. iPad / iPhone でのインストール方法
1. Safariで WebページのURL（サーバーにアップしたURL）を開きます。
2. 共有ボタン（四角から矢印が出ているアイコン）をタップします。
3. 「ホーム画面に追加」を選択します。
4. ホーム画面に追加されたアイコンから起動すると、アプリモード（全画面・オフライン対応）で起動します。

### 4. Android でのインストール方法
1. Chromeで WebページのURLを開きます。
2. メニュー（︙）から「ホーム画面に追加」または「アプリをインストール」を選択します。
